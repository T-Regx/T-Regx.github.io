(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{153:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return o})),a.d(t,"default",(function(){return u}));var n=a(2),r=a(6),i=(a(0),a(179)),l=a(180),c={id:"introduction-clean",title:"Migrate to T-Regx"},s={unversionedId:"introduction-clean",id:"introduction-clean",isDocsHomePage:!1,title:"Migrate to T-Regx",description:"Because CleanRegex is built on top of SafeRegex, we get protection against warnings/compile-errors/notices/magic-values",source:"@site/../docs/introduction-clean.mdx",slug:"/introduction-clean",permalink:"/docs/introduction-clean",version:"current",lastUpdatedAt:1611084428,sidebar:"docs",previous:{title:"Start with SafeRegex",permalink:"/docs/introduction-safe"},next:{title:"Match a subject",permalink:"/docs/match"}},o=[{value:"Entry points",id:"entry-points",children:[]},{value:"Automatic delimiters",id:"automatic-delimiters",children:[]},{value:"Automatic vs. deliberate delimiters",id:"automatic-vs-deliberate-delimiters",children:[{value:"Old-school patterns",id:"old-school-patterns",children:[]}]},{value:"Prepared Patterns",id:"prepared-patterns-1",children:[]}],p={rightToc:o};function u(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Because CleanRegex is built on top of SafeRegex, we get protection against warnings/compile-errors/notices/magic-values\nfor free! "),Object(i.b)("p",null,"Additionally, CleanRegex provides clean API for regular expressions, as well as solving more complicated\nissues with PHP regex (like eliminating false positives, validating groups) and including features utterly missing\nin PHP: Prepared patterns, offsets while replacing, in-place replacement, composite patterns, built-alteration and more."),Object(i.b)("h2",{id:"entry-points"},"Entry points"),Object(i.b)("p",null,"We have multiple entry points, each with its own usecase:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Standard functions - ",Object(i.b)("inlineCode",{parentName:"li"},"Pattern::of('\\d+')")," or ",Object(i.b)("inlineCode",{parentName:"li"},"pattern('\\d+')")),Object(i.b)("li",{parentName:"ul"},"Compatibility legacy - ",Object(i.b)("inlineCode",{parentName:"li"},"Pattern::pcre('/\\d+/')")," to use vanilla patterns"),Object(i.b)("li",{parentName:"ul"},"Prepared patterns - to safely use user data in patterns (see ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/handling-user-input"}),"Prepared Patterns"),")")),Object(i.b)("h4",{id:"class-method-style"},"Class method style:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"use TRegx\\CleanRegex\\Pattern;\n \nPattern::of('[A-Z][a-z]+')->test($subject);\n")),Object(i.b)("h4",{id:"global-function-style"},"Global function style:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"pattern('/[A-Z]#[a-z]+')->test($subject);\n")),Object(i.b)("h4",{id:"prepared-patterns"},"Prepared patterns:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"use TRegx\\CleanRegex\\Pattern;\n\nPattern::inject('^\\d+:@$', [$_GET['user']])->test('14:mark'); // true, if $_GET['user'] == 'mark'\n")),Object(i.b)("h2",{id:"automatic-delimiters"},"Automatic delimiters"),Object(i.b)("p",null,"Notice, that these patterns ",Object(i.b)("strong",{parentName:"p"},"are not")," delimited. Smart T-Regx will conveniently add them for you, if you\nuse ",Object(i.b)("inlineCode",{parentName:"p"},"Pattern::of()")," or ",Object(i.b)("inlineCode",{parentName:"p"},"pattern()"),". You can add flags to your regular expression by passing a second argument."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"pattern('[A-Z]+', 'im')->test('Hello');\n")),Object(i.b)("p",null,"To learn more, go to ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/delimiters"}),"Automatic Delimiters"),"."),Object(i.b)("h2",{id:"automatic-vs-deliberate-delimiters"},"Automatic vs. deliberate delimiters"),Object(i.b)("p",null,"If you use ",Object(i.b)("inlineCode",{parentName:"p"},"pattern()")," or ",Object(i.b)("inlineCode",{parentName:"p"},"Pattern::of()")," with a delimited pattern, like so:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"pattern('/[A-Z]/')->test('/A/');\n")),Object(i.b)("p",null,"...then ",Object(i.b)("inlineCode",{parentName:"p"},"/")," characters will simply be treated literally:"),Object(i.b)(l.a,{tregx:"pattern('/[A-Z]/')->match('/A/')->first();",php:"preg_match('#/[A-Z]/#', '/A/', $match);\nreturn $match[0];",mdxType:"CodeTabs"}),Object(i.b)(l.b,{mdxType:"Result"},"'/A/'"),Object(i.b)("h3",{id:"old-school-patterns"},"Old-school patterns"),Object(i.b)("p",null,"Of course, you can still use delimited patterns with flags, with ",Object(i.b)("inlineCode",{parentName:"p"},"Pattern::pcre()"),". Both versions are equal with each other."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"Pattern::pcre('/[A-Z]+/im')->test($subject);\n")),Object(i.b)("h2",{id:"prepared-patterns-1"},"Prepared Patterns"),Object(i.b)("p",null,"To safely handle unsafe date or user input, see ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/prepared-patterns"}),"Prepared Patterns"),"."))}u.isMDXComponent=!0},180:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h}));var n=a(0),r=a.n(n),i=a(183),l=a(184),c=a(185),s=a(4),o=a(181),p=a(48),u=a.n(p),d=function(e){function t(){return e.apply(this,arguments)||this}return Object(s.a)(t,e),t.prototype.render=function(){return r.a.createElement("div",{className:u.a.code},r.a.createElement(o.a,{className:"language-"+this.language},this.code))},Object(c.a)(t,[{key:"language",get:function(){return this.props.language||"php"}},{key:"code",get:function(){var e=this.props.children;if("string"==typeof e)return e;if(Array.isArray(e)&&e.every((function(e){return"string"==typeof e})))return e.join("");throw console.log(this.props.children),"Unexpected child of <Code>"}}]),t}(r.a.Component),b=function(e){var t=e.tregx,a=e.php,n=[t?{label:"T-Regx",value:"t-regx"}:{},a?{label:"PHP",value:"php"}:{}].filter((function(e){return e.value}));return r.a.createElement(i.a,{defaultValue:"t-regx",values:n},t&&r.a.createElement(l.a,{value:"t-regx"},r.a.createElement(d,null,t)),a&&r.a.createElement(l.a,{value:"php"},r.a.createElement(d,null,a)))},m=a(49),g=a.n(m),h=function(e){var t=e.text,a=e.children;return r.a.createElement("div",{className:g.a.result},r.a.createElement(d,{language:t?"text":"php"},a))}}}]);