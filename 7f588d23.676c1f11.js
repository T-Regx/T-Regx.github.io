(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{115:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return u})),a.d(t,"default",(function(){return s}));var n=a(2),r=a(6),p=(a(0),a(161)),i=a(162),o={id:"quote",title:"Quote regular expression"},c={unversionedId:"quote",id:"quote",isDocsHomePage:!1,title:"Quote regular expression",description:"Dedicated builder",source:"@site/..\\docs\\quote.mdx",permalink:"/docs/quote",lastUpdatedAt:1596999511,sidebar:"docs",previous:{title:"T-Regx Utilities",permalink:"/docs/utils"},next:{title:"Validate a pattern",permalink:"/docs/valid"}},u=[{value:"Dedicated builder",id:"dedicated-builder",children:[]},{value:"Procedural Quoting",id:"procedural-quoting",children:[{value:"Contract",id:"contract",children:[]}]}],l={rightToc:u};function s(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(p.b)("wrapper",Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(p.b)("h2",{id:"dedicated-builder"},"Dedicated builder"),Object(p.b)("p",null,'Before you engage in this article, please visit "',Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/handling-user-input"}),"Handling user input"),"\" first, if you're interested\nin using unsafe data in your patterns :)"),Object(p.b)("pre",null,Object(p.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"Pattern::prepare([\"(My|Our) dog's name is \", [$input], '!']);\n")),Object(p.b)("p",null,"Suggested articles:"),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},Object(p.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/prepared-patterns#with-pattern-prepare"}),Object(p.b)("inlineCode",{parentName:"a"},"Pattern::prepare()"))),Object(p.b)("li",{parentName:"ul"},Object(p.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/prepared-patterns#with-pattern-inject"}),Object(p.b)("inlineCode",{parentName:"a"},"Pattern::inject()")))),Object(p.b)("h2",{id:"procedural-quoting"},"Procedural Quoting"),Object(p.b)("p",null,"There are two methods ",Object(p.b)("inlineCode",{parentName:"p"},"Pattern::quote()")," and ",Object(p.b)("inlineCode",{parentName:"p"},"Pattern::unquote()"),"."),Object(p.b)("p",null,"First of which works as ",Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.php.net/manual/en/function.preg-quote.php"}),Object(p.b)("inlineCode",{parentName:"a"},"preg_quote()"))," is supposed to work (except for the fact that ",Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.php.net/manual/en/function.preg-quote.php"}),Object(p.b)("inlineCode",{parentName:"a"},"preg_quote()"))," is broken\nbefore PHP 7.1.3)."),Object(p.b)(i.a,{tregx:"Pattern::quote('Welcome\\How are you?');",mdxType:"CodeTabs"}),Object(p.b)(i.b,{text:!0,mdxType:"Result"},"Welcome\\\\How are you\\?"),Object(p.b)("p",null,"...second of which is the direct opposite:"),Object(p.b)(i.a,{tregx:"Pattern::unquote('Welcome\\\\How are you\\?');",mdxType:"CodeTabs"}),Object(p.b)(i.b,{text:!0,mdxType:"Result"},"Welcome\\How are you?"),Object(p.b)("p",null,"Please, keep in mind that this ",Object(p.b)("strong",{parentName:"p"},"is not")," a safe way to create patterns with unsafe characters - for that, consider\nusing ",Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/prepared-patterns"}),"Prepared Patterns"),"."),Object(p.b)("h3",{id:"contract"},"Contract"),Object(p.b)("p",null,"These two methods should be transitive, so:"),Object(p.b)("pre",null,Object(p.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"// when\n$output = Pattern::unquote(Pattern::quote($input));\n\n// then\n$this->assertEquals($input, $output); \n")),Object(p.b)("p",null,"The contract is that ",Object(p.b)("inlineCode",{parentName:"p"},"$input")," should be identical to ",Object(p.b)("inlineCode",{parentName:"p"},"$output")," for any ",Object(p.b)("inlineCode",{parentName:"p"},"string")," value."))}s.isMDXComponent=!0},162:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return h}));var n=a(0),r=a.n(n),p=a(165),i=a(166),o=a(164),c=a(47),u=a.n(c);class l extends r.a.Component{render(){return r.a.createElement("div",{className:u.a.code},r.a.createElement(o.a,{className:"language-"+this.language},this.code))}get language(){return this.props.language||"php"}get code(){let e=this.props.children;if("string"==typeof e)return e;if(Array.isArray(e)&&e.every(e=>"string"==typeof e))return e.join("");throw console.log(this.props.children),"Unexpected child of <Code>"}}class s extends r.a.Component{render(){return r.a.createElement(p.a,{defaultValue:"t-regx",values:this.values,groupId:"language"},this.props.tregx&&r.a.createElement(i.a,{value:"t-regx"},r.a.createElement(l,null,this.props.tregx)),this.props.php&&r.a.createElement(i.a,{value:"php"},r.a.createElement(l,null,this.props.php)))}get values(){return[this.props.tregx?{label:"T-Regx",value:"t-regx"}:{},this.props.php?{label:"PHP",value:"php"}:{}].filter(e=>e.value)}}var d=a(48),b=a.n(d),h=({text:e,children:t})=>r.a.createElement("div",{className:b.a.result},r.a.createElement(l,{language:e?"text":"php"},t))}}]);