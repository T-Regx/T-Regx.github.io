(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{139:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return p})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(2),a=n(6),o=(n(0),n(167)),i={title:"Removal of Pattern::prepare()",author:"Daniel Wilkowski"},p={permalink:"/blog/2020/09/11/pattern-prepared",source:"@site/blog\\2020-09-11-pattern-prepared.md",description:"Update",date:"2020-09-11T00:00:00.000Z",tags:[],title:"Removal of Pattern::prepare()",readingTime:.82,truncated:!1,nextItem:{title:"PHP Quiz for you!",permalink:"/blog/2020/09/10/quiz"}},c=[{value:"Update",id:"update",children:[{value:"Rationale",id:"rationale",children:[]}]}],l={rightToc:c};function u(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"update"},"Update"),Object(o.b)("p",null,"In T-Regx 0.9.10, we decided to remove ",Object(o.b)("inlineCode",{parentName:"p"},"Pattern::prepare()")," from T-Regx. "),Object(o.b)("h3",{id:"rationale"},"Rationale"),Object(o.b)("p",null,"Originally, the idea behind this function was quite simple.\nWe wanted to enable quick and readable parameter binding:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-php"}),"Pattern::prepare(['^http://', [$domain], '/index\\.php'])->test($link);\n")),Object(o.b)("p",null,"Fairly easy, at the first glance."),Object(o.b)("p",null,"Its messyness becomes visible, when regular expressions become few and short, and texts\nare multiple and long, sometimes with alteration:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-php"}),"Pattern::prepare([[[$http, $https]], '://', [$domain]])->test($link);\n// vs.\nPattern::prepare([[[$http, $https], '://', $domain]])->test($link);\n")),Object(o.b)("p",null,"You can see, the outer layer array combined with the ",Object(o.b)("inlineCode",{parentName:"p"},"[$domain]")," array and array for schema\nbecomes quite hard to read. Additionally, because of alteration, it becomes even more unreadable!\nIt was very easy to misread the parameter array with alteration array, or even regular regex with text."),Object(o.b)("p",null,"So we decided to remove it from the library."),Object(o.b)("p",null,"The remaining prepared patterns methods are ",Object(o.b)("inlineCode",{parentName:"p"},"Pattern::inject()")," and ",Object(o.b)("inlineCode",{parentName:"p"},"Pattern:bind()"),". Use them like so:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-php"}),"// inject\nPattern::inject('^http://@/index\\.php', [$domain])->test($link);\n\n// bind\nPattern::bind('^@scheme://@dom/index\\.php', [\n      'scheme' => ['http', 'https'],\n      'dom' => $domain,\n   ])\n   ->test($link);\n")))}u.isMDXComponent=!0},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),u=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},b=function(e){var t=u(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},s=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),b=u(n),s=r,m=b["".concat(i,".").concat(s)]||b[s]||d[s]||o;return n?a.a.createElement(m,p(p({ref:t},l),{},{components:n})):a.a.createElement(m,p({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=s;var p={};for(var c in t)hasOwnProperty.call(t,c)&&(p[c]=t[c]);p.originalType=e,p.mdxType="string"==typeof e?e:r,i[1]=p;for(var l=2;l<o;l++)i[l]=n[l];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}s.displayName="MDXCreateElement"}}]);